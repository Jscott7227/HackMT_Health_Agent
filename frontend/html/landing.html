<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Benji – Your Daily Life Partner</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:wght@400;500;700&display=swap"
    rel="stylesheet">

  <style>
    /* ============================================================
       DESIGN TOKENS – mirrors styles.css
       ============================================================ */
    :root {
      --forest-50: #e6f5ef;
      --forest-100: #c2e8d9;
      --forest-200: #99dac0;
      --forest-300: #6fcca6;
      --forest-400: #4fc193;
      --forest-500: #016844;
      --forest-600: #015d3d;
      --forest-700: #014f33;
      --forest-800: #01412a;
      --forest-900: #002b1b;
      --clay-50: #faf8f5;
      --clay-100: #f3ede3;
      --clay-200: #e8dcc8;
      --clay-300: #d4c0a3;
      --clay-400: #bfa582;
      --clay-500: #a88b68;
      --clay-600: #8b6f53;
      --clay-700: #6d5642;
      --clay-800: #4f3e2f;
      --clay-900: #3a2e23;
      --sage: #016844;
      --sage-dark: #014f33;
      --sage-light: #4fc193;
      --terracotta: #c77e5d;
      --terracotta-light: #d89e87;
      --moss: #5a6c52;
      --sunset: #e8a87c;
      --lavender: #b4a5c4;
      --cream: #fff9f0;
      --mint: #99dac0;
      --bg-primary: var(--cream);
      --text-primary: var(--clay-800);
      --text-secondary: var(--clay-600);
      --text-muted: var(--clay-400);
      --border-color: rgba(139, 111, 83, .15);
      --shadow-sm: 0 2px 8px rgba(79, 62, 47, .08);
      --shadow-md: 0 4px 16px rgba(79, 62, 47, .12);
      --shadow-lg: 0 8px 32px rgba(79, 62, 47, .16);
      --font-display: 'Crimson Pro', serif;
      --font-body: 'DM Sans', sans-serif;
      --space-xs: .5rem;
      --space-sm: 1rem;
      --space-md: 1.5rem;
      --space-lg: 2rem;
      --space-xl: 3rem;
      --space-2xl: 4rem;
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 20px;
      --radius-xl: 28px;
      --transition-fast: 150ms cubic-bezier(.4, 0, .2, 1);
      --transition-base: 250ms cubic-bezier(.4, 0, .2, 1);
      --transition-breathing: 3s cubic-bezier(.4, 0, .6, 1);
    }

    /* ============================================================
       RESET
       ============================================================ */
    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth
    }

    body {
      font-family: var(--font-body);
      color: var(--text-primary);
      background: var(--bg-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* ============================================================
       ANIMATED BACKGROUND
       ============================================================ */
    .background-layers {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      overflow: hidden
    }

    .grain {
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      opacity: .03;
      animation: grain-shift 8s steps(10) infinite;
    }

    @keyframes grain-shift {

      0%,
      100% {
        transform: translate(0, 0)
      }

      10% {
        transform: translate(-5%, -10%)
      }

      20% {
        transform: translate(-15%, 5%)
      }

      30% {
        transform: translate(7%, -25%)
      }

      40% {
        transform: translate(-5%, 25%)
      }

      50% {
        transform: translate(-15%, 10%)
      }

      60% {
        transform: translate(15%, 0%)
      }

      70% {
        transform: translate(0%, 15%)
      }

      80% {
        transform: translate(3%, 10%)
      }

      90% {
        transform: translate(-10%, 5%)
      }
    }

    .gradient-orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(80px);
      opacity: .6;
      animation: float var(--transition-breathing) ease-in-out infinite;
    }

    .orb-1 {
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(1, 104, 68, .15) 0%, transparent 70%);
      top: -200px;
      right: -200px
    }

    .orb-2 {
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, rgba(79, 193, 147, .2) 0%, transparent 70%);
      bottom: -150px;
      left: -150px;
      animation-delay: 1s
    }

    .orb-3 {
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(153, 218, 192, .15) 0%, transparent 70%);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation-delay: 2s
    }

    @keyframes float {

      0%,
      100% {
        transform: translate(0, 0) scale(1)
      }

      50% {
        transform: translate(30px, -30px) scale(1.1)
      }
    }

    /* ============================================================
       TOP BAR
       ============================================================ */
    .brand-title {
      font-size: 1.2rem;
      margin: 0;
      font-family: var(--font-display);
      font-weight: 400;
      color: var(--clay-800);
      letter-spacing: -0.01em;
    }

    .brand-tagline {
      font-size: 0.8rem;
      opacity: 0.7;
      margin: 0;
      font-family: var(--font-body);
      color: var(--text-secondary);
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .brand-logo {
      width: 54px;
      height: 54px;
      object-fit: contain;
      display: block;
      filter: drop-shadow(0 2px 5px rgba(79, 62, 47, .14));
    }

    .landing-bar {
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 24px;
      backdrop-filter: blur(14px);
      background: rgba(255, 255, 255, 0.78);
      border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    }

    .landing-bar-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: var(--text-primary);
    }

    .landing-bar-brand img {
      width: 38px;
      height: 38px;
      object-fit: contain;
      filter: drop-shadow(0 2px 5px rgba(79, 62, 47, .14));
    }

    .landing-bar-brand span {
      font-size: 1.65rem;
      line-height: 1;
      display: inline-block;
      color: var(--sage-dark);
      transform: translateY(1px);
    }

    .landing-bar-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 9px 12px;
      border-radius: 999px;
      text-decoration: none;
      color: var(--text-secondary);
      font-weight: 600;
      font-size: 0.875rem;
      background: transparent;
      border: 1px solid transparent;
      transition: background var(--transition-base),
        color var(--transition-base),
        transform var(--transition-base),
        box-shadow var(--transition-base);
    }

    .landing-bar-link:hover {
      background: rgba(1, 104, 68, 0.08);
      color: var(--forest-800);
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(79, 62, 47, 0.10);
    }

    /* ============================================================
       PAGE SHELL – improved spacing
       ============================================================ */
    .page {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .split {
      flex: 1 1 0%;
      display: flex;
      min-height: 0;
      position: relative;
      align-items: stretch;
      gap: 1.5vw;
      padding: 0;
    }

    /* ── LEFT: pillars column – much bigger fonts, less whitespace ── */
    .col-left {
      flex: 0 0 47%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 0 2.5vw 1.2vh;
      gap: 1.2vh;
      min-height: 0;
    }

    .pillar {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      padding: 0.3vh 0.6rem;
      transition: transform var(--transition-base);
    }

    .pillar:hover {
      transform: translateX(8px);
    }

    .pillar::before {
      display: none;
    }

    .pillar-icon-wrap {
      width: clamp(60px, 6.5vh, 80px);
      height: clamp(60px, 6.5vh, 80px);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .pillar-icon-wrap svg {
      width: clamp(30px, 3.5vh, 40px);
      height: clamp(30px, 3.5vh, 40px)
    }

    .icon-fitness {
      background: var(--forest-50);
      color: var(--sage)
    }

    .icon-wellness {
      background: rgba(199, 126, 93, .1);
      color: var(--terracotta)
    }

    .icon-habits {
      background: rgba(180, 165, 196, .15);
      color: var(--lavender)
    }

    .pillar-content {
      flex: 1;
    }

    .pillar-title {
      font-family: var(--font-display);
      font-size: clamp(1.75rem, 3vh, 2.2rem);
      font-weight: 600;
      color: var(--clay-800);
      margin-bottom: 0.25rem;
    }

    .pillar-desc {
      font-size: clamp(1.05rem, 1.85vh, 1.25rem);
      color: var(--text-secondary);
      line-height: 1.45;
    }

    /* staggered entrance */
    .pillar {
      opacity: 0;
      transform: translateX(-18px);
      animation: pillarIn .6s cubic-bezier(.4, 0, .2, 1) forwards
    }

    .pillar:nth-child(1) {
      animation-delay: .15s
    }

    .pillar:nth-child(2) {
      animation-delay: .3s
    }

    .pillar:nth-child(3) {
      animation-delay: .45s
    }

    @keyframes pillarIn {
      to {
        opacity: 1;
        transform: translateX(0)
      }
    }

    /* ── RIGHT: hero + auth – tighter spacing to fit on page ── */
    .col-right {
      flex: 1 1 0%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 0 2vw 0vh;
      min-height: 0;
    }

    /* hero block */
    .hero-block {
      text-align: center;
      max-width: 460px;
      margin-bottom: 0.6vh;
      flex-shrink: 1;
      min-height: 0;
    }

    .hero-logo {
      width: clamp(130px, 26vh, 340px);
      height: auto;
      aspect-ratio: 1;
      object-fit: contain;
      filter: drop-shadow(0 4px 16px rgba(79, 62, 47, .18));
    }

    @keyframes sway {
      0%,
      100% {
        transform: rotate(-3deg)
      }

      50% {
        transform: rotate(3deg)
      }
    }

    .hero-title {
      font-family: var(--font-display);
      font-size: clamp(1.6rem, 3.3vw, 2.6rem);
      font-weight: 300;
      letter-spacing: -.02em;
      color: var(--clay-800);
      z-index: 2;
      margin-top: clamp(-70px, -7vh, -20px);
      margin-bottom: 0.5rem;
    }

    .hero-subtitle {
      font-size: clamp(0.85rem, 1.5vh, 1rem);
      color: var(--text-secondary);
      line-height: 1.45;
      max-width: 420px;
      margin: 0 auto 0.6rem;
    }

    /* ── auth card ── */
    .auth-card {
      width: 100%;
      max-width: 400px;
      background: rgba(255, 255, 255, .9);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      overflow: hidden;
      margin-top: var(--space-sm);
    }

    .auth-tabs {
      display: flex;
      border-bottom: 1px solid var(--border-color);
      background: rgba(250, 248, 245, .6);
    }

    .auth-tab {
      flex: 1;
      padding: 14px;
      text-align: center;
      font-weight: 600;
      font-size: .94rem;
      color: var(--text-secondary);
      background: none;
      border: none;
      cursor: pointer;
      position: relative;
      transition: color var(--transition-base);
    }

    .auth-tab:hover {
      color: var(--text-primary)
    }

    .auth-tab.active {
      color: var(--sage-dark)
    }

    .auth-tab.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--sage);
    }

    html,
    body {
      height: 100%;
      overflow: hidden;
    }

    .auth-body {
      position: relative;
      padding: 0.9rem;
    }

    .auth-panel {
      display: none;
      box-sizing: border-box;
    }

    .auth-panel.active {
      display: block;
    }

    .form-group {
      margin-bottom: 0.9rem;
    }

    .form-label {
      display: block;
      font-size: .86rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.35rem;
    }

    .input-box {
      position: relative
    }

    .form-input {
      width: 100%;
      padding: 9px 11px;
      font-family: var(--font-body);
      font-size: 0.88rem;
      color: var(--text-primary);
      background: rgba(255, 255, 255, .85);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      transition: border-color var(--transition-base), box-shadow var(--transition-base);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--sage-light);
      box-shadow: 0 0 0 3px rgba(79, 193, 147, .12);
    }

    .form-input::placeholder {
      color: var(--text-muted)
    }

    .pw-toggle {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 4px;
      display: flex;
      align-items: center;
      transition: color var(--transition-fast);
    }

    .pw-toggle:hover {
      color: var(--text-primary)
    }

    .pw-toggle svg {
      width: 18px;
      height: 18px
    }

    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 7px;
      font-size: .85rem;
      color: var(--text-secondary);
    }

    .checkbox-row input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
      accent-color: var(--sage);
    }

    .checkbox-row a {
      color: var(--sage-dark);
      text-decoration: none;
      font-weight: 600
    }

    .checkbox-row a:hover {
      text-decoration: underline
    }

    .row-between {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: .88rem;
      margin-bottom: 0.25rem;
    }

    .forgot-link {
      color: var(--sage-dark);
      text-decoration: none;
      font-weight: 600;
      transition: color var(--transition-base);
    }

    .forgot-link:hover {
      color: var(--sage);
      text-decoration: underline
    }

    .submit-btn {
      width: 100%;
      padding: 10px;
      margin-top: 0.7rem;
      font-family: var(--font-body);
      font-size: 0.92rem;
      font-weight: 600;
      color: #fff;
      background: var(--sage);
      border: none;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: background var(--transition-base), transform var(--transition-fast);
    }

    .submit-btn:hover {
      background: var(--sage-dark);
      transform: translateY(-1px)
    }

    .submit-btn:active {
      transform: translateY(0)
    }

    .switch-link {
      text-align: center;
      margin-top: var(--space-md);
      font-size: .875rem;
      color: var(--text-secondary);
    }

    .switch-link a {
      color: var(--sage-dark);
      text-decoration: none;
      font-weight: 600;
    }

    .error-text {
      font-size: .78rem;
      color: #d32f2f;
      margin-top: 0.3rem;
      display: none;
    }

    .error-text.visible {
      display: block
    }

    .terms-text {
      margin-top: 0.6rem;
      font-size: .8rem;
      color: var(--text-muted);
      text-align: center;
    }

    .terms-text a {
      color: var(--sage-dark);
      text-decoration: none
    }

    .terms-text a:hover {
      text-decoration: underline
    }

    /* ── loading overlay ── */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: rgba(250, 248, 245, .94);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 0;
      pointer-events: none;
      transition: opacity var(--transition-base);
    }

    .loading-overlay.active {
      opacity: 1;
      pointer-events: all
    }

    .loading-content {
      text-align: center
    }

    .loading-spinner {
      width: 48px;
      height: 48px;
      margin: 0 auto var(--space-sm);
      border: 4px solid var(--forest-100);
      border-top-color: var(--sage);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }

    .loading-text {
      font-size: 1rem;
      font-weight: 500;
      color: var(--text-primary);
    }

    /* ── Responsive ── */
    @media (max-width: 1024px) {
      html,
      body {
        height: auto;
        overflow: auto;
      }

      .page {
        min-height: auto;
      }

      .split {
        min-height: auto;
        padding: 0;
      }

      .split {
        flex-direction: column;
        gap: 0;
      }

      .col-left {
        justify-content: flex-start;
        padding-top: var(--space-md);
      }

      .col-right {
        justify-content: flex-start;
        padding-top: var(--space-sm);
        padding-bottom: var(--space-lg);
      }

      .auth-card {
        transform: none;
      }

      .hero-logo {
        width: 280px;
        height: 280px;
      }

      .hero-title {
        font-size: 2.35rem;
      }
    }

    @media (max-width: 768px) {
      .col-right {
        padding-top: var(--space-md);
        padding-bottom: var(--space-lg);
      }

      .auth-card {
        transform: none;
        margin-top: var(--space-sm);
      }

      .pillar {
        flex-direction: column;
        text-align: center;
        gap: var(--space-sm);
      }

      .pillar-desc {
        max-width: 100%;
      }

      .hero-logo {
        width: 240px;
        height: 240px;
      }

      .hero-title {
        font-size: 2rem;
      }
    }

    @media (max-height: 760px) {
      html,
      body {
        height: auto;
        overflow: auto;
      }

      .page {
        min-height: auto;
      }

      .split {
        min-height: auto;
      }

      .col-right {
        padding-bottom: var(--space-lg);
      }

      .auth-card {
        transform: none;
        margin-top: var(--space-sm);
      }
    }
  </style>
</head>

<body>
  <div class="background-layers">
    <div class="grain"></div>
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
  </div>

  <div class="page">
    <nav class="landing-bar">
      <div class="landing-bar-brand">
        <img src="../assets/img/benji_logo.png" alt="Benji logo"
          style="width:48px;height:48px;border-radius:10px;object-fit:cover;" />
        <span>Benji</span>
      </div>
      <a href="#about" class="landing-bar-link">About Us</a>
    </nav>

    <main class="split">
      <!-- LEFT COLUMN: Feature pillars -->
      <aside class="col-left">
        <div class="pillar">
          <div class="pillar-icon-wrap icon-fitness">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <div class="pillar-content">
            <h3 class="pillar-title">Fitness</h3>
            <p class="pillar-desc">
              Personalized movement guidance that adapts to your body, energy, and schedule — whether you're training
              hard or just getting started.
            </p>
          </div>
        </div>

        <div class="pillar">
          <div class="pillar-icon-wrap icon-wellness">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
            </svg>
          </div>
          <div class="pillar-content">
            <h3 class="pillar-title">Wellness</h3>
            <p class="pillar-desc">
              Track stress, mood, sleep, and the small daily habits that quietly shape how you feel. Benji notices
              patterns so you don't have to.
            </p>
          </div>
        </div>

        <div class="pillar">
          <div class="pillar-icon-wrap icon-habits">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
          </div>
          <div class="pillar-content">
            <h3 class="pillar-title">Habits & Goals</h3>
            <p class="pillar-desc">
              Set goals that fit your life and let Benji keep you accountable with gentle encouragement, tailored
              recommendations, and real progress.
            </p>
          </div>
        </div>
      </aside>

      <!-- RIGHT COLUMN: Hero + Auth Card -->
      <section class="col-right">
        <div class="hero-block">
          <img src="../assets/img/benji_logo.png" alt="" class="hero-logo" aria-hidden="true" />
          <h1 class="hero-title">Meet Benji</h1>
          <p class="hero-subtitle">
            Your AI-powered daily life partner. A personal trainer, advocate, and support system that learns from your
            check-ins and guides you toward the goals that matter most — no matter your circumstances.
          </p>
        </div>

        <!-- Auth Card -->
        <div class="auth-card">
          <div class="auth-tabs" role="tablist">
            <button class="auth-tab active" data-mode="login" role="tab" aria-selected="true">Log In</button>
            <button class="auth-tab" data-mode="signup" role="tab" aria-selected="false">Create Account</button>
          </div>

          <div class="auth-body">
            <!-- LOGIN PANEL -->
            <div class="auth-panel active" id="panel-login">
              <form id="loginForm" novalidate>
                <div class="form-group">
                  <label class="form-label" for="login-email">Email</label>
                  <input type="email" id="login-email" class="form-input" placeholder="you@example.com"
                    autocomplete="email" required />
                  <div class="error-text" id="login-emailError">Please enter a valid email address.</div>
                </div>

                <div class="form-group">
                  <label class="form-label" for="login-password">Password</label>
                  <div class="input-box">
                    <input type="password" id="login-password" class="form-input" placeholder="Your password"
                      autocomplete="current-password" required />
                    <button type="button" class="pw-toggle" id="login-togglePw" aria-label="Show password">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="2"
                          stroke-linecap="round" />
                        <path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        <path id="login-eyeSlash" d="M4 4l16 16" stroke="currentColor" stroke-width="2"
                          stroke-linecap="round" style="display:none" />
                      </svg>
                    </button>
                  </div>
                  <div class="error-text" id="login-passwordError">Password cannot be empty.</div>
                </div>

                <div class="row-between">
                  <div class="checkbox-row">
                    <input type="checkbox" id="login-rememberMe" />
                    <label for="login-rememberMe">Remember me</label>
                  </div>
                  <a href="../html/forgot-password.html" class="forgot-link">Forgot?</a>
                </div>

                <button type="submit" class="submit-btn">Log In</button>
              </form>

              <p class="terms-text">
                By continuing, you agree to our <a href="../html/terms.html">Terms</a> and <a
                  href="../html/privacy.html">Privacy Policy</a>.
              </p>
            </div>

            <!-- SIGNUP PANEL -->
            <div class="auth-panel" id="panel-signup">
              <form id="signupForm" novalidate>
                <div class="form-group">
                  <label class="form-label" for="signup-name">Full Name</label>
                  <input type="text" id="signup-name" class="form-input" placeholder="Jane Doe" autocomplete="name"
                    required />
                  <div class="error-text" id="signup-nameError">Name is required.</div>
                </div>

                <div class="form-group">
                  <label class="form-label" for="signup-email">Email</label>
                  <input type="email" id="signup-email" class="form-input" placeholder="you@example.com"
                    autocomplete="email" required />
                  <div class="error-text" id="signup-emailError">Please enter a valid email address.</div>
                </div>

                <div class="form-group">
                  <label class="form-label" for="signup-password">Password</label>
                  <div class="input-box">
                    <input type="password" id="signup-password" class="form-input" placeholder="Create a password"
                      autocomplete="new-password" required />
                    <button type="button" class="pw-toggle" id="signup-togglePw" aria-label="Show password">
                      <svg viewBox="0 0 24 24" fill="none">
                        <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke="currentColor" stroke-width="2"
                          stroke-linecap="round" />
                        <path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        <path id="signup-eyeSlash" d="M4 4l16 16" stroke="currentColor" stroke-width="2"
                          stroke-linecap="round" style="display:none" />
                      </svg>
                    </button>
                  </div>
                  <div class="error-text" id="signup-passwordError">Password must be at least 8 characters.</div>
                </div>

                <!-- Agree checkbox -->
                <div class="checkbox-row">
                  <input type="checkbox" id="signup-agree" />
                  <label for="signup-agree">
                    I agree to the
                    <a href="../html/terms.html">Terms</a> and
                    <a href="../html/privacy.html">Privacy Policy</a>.
                  </label>
                </div>
                <div class="error-text" id="signup-agreeError"
                  style="margin-top:-8px;margin-bottom:var(--space-xs)">Please accept the Terms and Privacy Policy.</div>

                <button type="submit" class="submit-btn">Create Account</button>
              </form>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- Loading overlay (shared) -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <p class="loading-text" id="loadingText">Signing you in...</p>
    </div>
  </div>

  <!-- ============================================================
     JAVASCRIPT – faithfully ported logic from login.html & signup.html
     ============================================================ -->
  <script>
    (function () {
      const $ = sel => document.querySelector(sel);
      const $$ = sel => document.querySelectorAll(sel);

      /* ── helpers ── */
      const validEmail = e => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);
      const overlay = $('#loadingOverlay');
      const loadingText = $('#loadingText');
      const setOverlay = (on, msg) => {
        if (msg) loadingText.textContent = msg;
        overlay.classList.toggle('active', on);
      };

      /* ── tab / panel switching ── */
      const tabs = $$('.auth-tab');
      const panels = { login: $('#panel-login'), signup: $('#panel-signup') };

      function switchMode(mode) {
        tabs.forEach(t => {
          const active = t.dataset.mode === mode;
          t.classList.toggle('active', active);
          t.setAttribute('aria-selected', active);
        });
        Object.keys(panels).forEach(k => {
          panels[k].classList.toggle('active', k === mode);
        });
      }

      tabs.forEach(tab => {
        tab.addEventListener('click', () => switchMode(tab.dataset.mode));
      });

      // "Create one" / "Log in" links inside panels
      $$('[data-switch]').forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault();
          switchMode(link.dataset.switch);
        });
      });

      /* ── eye toggle factory ── */
      function wireEye(btnId, inputId, slashId) {
        const btn = $(btnId);
        const inp = $(inputId);
        const slash = $(slashId);
        if (!btn || !inp) return;
        btn.addEventListener('click', () => {
          const hidden = inp.type === 'password';
          inp.type = hidden ? 'text' : 'password';
          if (slash) slash.style.display = hidden ? 'block' : 'none';
          btn.setAttribute('aria-label', hidden ? 'Hide password' : 'Show password');
        });
      }
      wireEye('#login-togglePw', '#login-password', '#login-eyeSlash');
      wireEye('#signup-togglePw', '#signup-password', '#signup-eyeSlash');

      /* ── show / hide error helper ── */
      function setErr(el, visible) {
        if (el) el.classList.toggle('visible', visible);
      }

      /* ═══════════════════════════════════════════════
         LOGIN SUBMIT – exact logic from login.html
         ═══════════════════════════════════════════════ */
      $('#loginForm').addEventListener('submit', async e => {
        e.preventDefault();

        const emailEl = $('#login-email');
        const passEl = $('#login-password');
        const emailErr = $('#login-emailError');
        const passErr = $('#login-passwordError');

        setErr(emailErr, false);
        setErr(passErr, false);

        const email = (emailEl.value || '').trim();
        const pwd = (passEl.value || '').trim();

        let ok = true;
        if (!validEmail(email)) { setErr(emailErr, true); ok = false; }
        if (!pwd) { setErr(passErr, true); ok = false; }
        if (!ok) return;

        setOverlay(true, 'Signing you in...');
        try {
          const response = await fetch("http://localhost:8000/login", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              username: email,  // email used as username
              password: pwd
            })
          });

          const data = await response.json();

          if (!response.ok) {
            alert(data.detail || "Login failed");
            return;
          }

          const remember = $('#login-rememberMe').checked;

          const session = {
            user_id: data.user_id,   // ✅ IMPORTANT
            username: email,
            loggedIn: true,
            remember,
            timestamp: new Date().toISOString()
          };

          if (remember) {
            localStorage.setItem('sanctuary_session', JSON.stringify(session));
            sessionStorage.removeItem('sanctuary_session');
          } else {
            sessionStorage.setItem('sanctuary_session', JSON.stringify(session));
            localStorage.removeItem('sanctuary_session');
          }

          window.location.href = '../html/index.html';

        } catch (err) {
          console.error(err);
          alert("Server connection failed");
        } finally {
          setOverlay(false);
        }
      });

      /* ═══════════════════════════════════════════════
         SIGNUP SUBMIT – exact logic from signup.html
         ═══════════════════════════════════════════════ */
      $('#signupForm').addEventListener('submit', async e => {
        e.preventDefault();

        const nameEl = $('#signup-name');
        const emailEl = $('#signup-email');
        const passEl = $('#signup-password');
        const agreeEl = $('#signup-agree');

        const nameErr = $('#signup-nameError');
        const emailErr = $('#signup-emailError');
        const passErr = $('#signup-passwordError');
        const agreeErr = $('#signup-agreeError');

        [nameErr, emailErr, passErr, agreeErr].forEach(el => setErr(el, false));

        const name = (nameEl.value || '').trim();
        const email = (emailEl.value || '').trim();
        const pwd = (passEl.value || '').trim();
        const agree = !!agreeEl.checked;

        let ok = true;
        if (!name) { setErr(nameErr, true); ok = false; }
        if (!validEmail(email)) { setErr(emailErr, true); ok = false; }
        if (pwd.length < 8) { setErr(passErr, true); ok = false; }
        if (!agree) { setErr(agreeErr, true); ok = false; }
        if (!ok) return;

        setOverlay(true, 'Creating your account...');
        try {
          const response = await fetch("http://localhost:8000/signup", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              username: email,   // using email as username
              password: pwd,
              name: name
            })
          });

          const data = await response.json();

          if (!response.ok) {
            alert(data.detail || "Signup failed");
            return;
          }

          // Save session
          const session = {
            user_id: data.user_id,
            username: email,
            loggedIn: true,
            timestamp: new Date().toISOString()
          };

          localStorage.setItem('sanctuary_session', JSON.stringify(session));

          // Redirect after success
          window.location.href = '../html/index.html';

        } catch (err) {
          console.error(err);
          alert("Server connection failed");
        } finally {
          setOverlay(false);
        }
      });

    })();
  </script>
</body>

</html>
